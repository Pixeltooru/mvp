# MVP Server Configuration Example
# Copy this file to .env and fill in your actual values

# Database Configuration
DB_URL=mysql+aiomysql://username:password@localhost:3306/mvp_db

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your_redis_password_here

# Encryption Keys (generate with: python -c "import base64, secrets; print(base64.urlsafe_b64encode(secrets.token_bytes(32)).decode())")
ENCRYPTION_KEY_STR=GENERATE_YOUR_OWN_32_BYTE_KEY_HERE
APP_SECRET_KEY=your_app_secret_key_minimum_32_characters_long

# JWT Configuration
JWT_ALGORITHM=RS256
JWT_ISSUER=pixeltoo.ru
JWT_AUDIENCE=mvp_clients
ACCESS_TOKEN_EXPIRE_MINUTES=120
JWT_PRIVATE_KEY_PATH=/var/mvp/jwt_private.pem
JWT_PUBLIC_KEY_PATH=/var/mvp/jwt_public.pem

# VAPID Keys for Web Push (generate at https://vapidkeys.com/)
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_SUBJECT=mailto:admin@yourdomain.com

# Server Configuration
DEBUG_MODE=1
LOG_FILE_PATH=/var/mvp/mvp_server.log
SERVER_VERSION=3.1.1

# SSL Certificates (paths to your Let's Encrypt certificates)
SSL_KEYFILE=/etc/letsencrypt/live/yourdomain.com/privkey.pem
SSL_CERTFILE=/etc/letsencrypt/live/yourdomain.com/fullchain.pem

# Rate Limiting
RATE_LIMIT_CALLS=20
RATE_LIMIT_PERIOD=120
BLOCK_PERIOD=60
WS_RATE_LIMIT_MESSAGES=100
WS_RATE_LIMIT_PERIOD=60
WS_MAX_CONNECTIONS_PER_IP=5
FAILED_LOGIN_LIMIT=5
FAILED_LOGIN_BLOCK_PERIOD=300

# Data Retention
HISTORY_TTL=1209600
E2E_KEY_ROTATION_DAYS=180
